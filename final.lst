MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00001 ; FINAL PROJECT - ECE 151
                      00002 ; MARK BRYK AND KELVIN LIN
                      00003 
                      00004         LIST    P=PIC16F877A
                      00005         include <p16F877A.inc>
                      00001         LIST
                      00002 
                      00003 ;==========================================================================
                      00004 ;  MPASM PIC16F877A processor include
                      00005 ; 
                      00006 ;  (c) Copyright 1999-2013 Microchip Technology, All rights reserved
                      00007 ;==========================================================================
                      00008 
                      00566         LIST
                      00006 
2007   3F72           00007         __CONFIG _HS_OSC & _WDT_OFF & _PWRTE_ON & _CP_OFF & _LVP_OFF
                      00008 
                      00009 
  00000000            00010 CASE0   EQU     0x00
  00000010            00011 CASE1   EQU     0x10
  00000020            00012 CASE2   EQU     0x20
  00000030            00013 CASE3   EQU     0x30
  00000040            00014 CASE4   EQU     0x40
  00000050            00015 CASE5   EQU     0x50
  00000060            00016 CASE6   EQU     0x60
  00000070            00017 CASE7   EQU     0x70
  00000080            00018 CASE8   EQU     0x80
  00000090            00019 CASE9   EQU     0x90
  000000A0            00020 CASE10  EQU     0xA0
  000000B0            00021 CASE11  EQU     0xB0
  000000C0            00022 CASE12  EQU     0xC0
  00000020            00023 INS1    EQU 0x20
  00000021            00024 INS2    EQU 0x21
  00000022            00025 OUTALU  EQU 0x22
  00000023            00026 MYSTATUS EQU 0x23
  00000024            00027 BB              EQU     0x24
  00000025            00028 BTITLE  EQU 0x25
  00000026            00029 PC2             EQU 0x26
  00000027            00030 PC1             EQU 0x27
                      00031 
                      00032         ORG 0x00
0000   2???           00033         goto    start
                      00034 
                      00035         ORG 0x10
0010                  00036 start
0010   1683           00037         bsf     STATUS, RP0     ; Bank 1
0011   3007           00038         movlw   0x07 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0012   009F           00039         movwf   ADCON1 ; Set all lower bits of ADCON Special Reg to allow I/O from PORTE
0013   3000           00040         movlw   0x00    ; All bits output
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0014   0085           00041         movwf   TRISA   ;       PORTA = 6 bits- Inputs from ALU
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0015   0086           00042         movwf   TRISB   ;       PORTB = Outputs to ALU - INS2
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0016   0087           00043         movwf   TRISC   ;       PORTC = First Half of Instruction 
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0017   0088           00044         movwf   TRISD   ;       PORTD = Second Half of Instruction, then Outputs to ALU - 4 bits - CIN, 
                            Mode
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0018   0089           00045         movwf   TRISE   ;       
0019   1283           00046         bcf     STATUS, RP0     ; Bank 0
                      00047         
001A   3000           00048         MOVLW 0x00 ; clear PC
001B   00A7           00049         MOVWF   PC1
001C   00A6           00050         MOVWF   PC2
                      00051         
001D   3007           00052         MOVLW   0x07
001E   0089           00053         MOVWF   PORTE
                      00054 
001F                  00055 LSTART
001F   1683           00056         bsf             STATUS, RP0
0020   3000           00057         movlw   0x00
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0021   0085           00058         movwf   TRISA
0022   1283           00059         bcf             STATUS, RP0
                      00060 
0023   0AA6           00061         INCF    PC2, F
0024   1903           00062         BTFSC   STATUS, Z;
0025   0AA7           00063         INCF    PC1, F
                      00064 
0026                  00065 LJMP    
0026   0827           00066         MOVF    PC1, W
0027   0085           00067         MOVWF   PORTA
0028   0826           00068         MOVF    PC2, W
0029   0086           00069         MOVWF   PORTB
                      00070                 
002A   1683           00071         bsf             STATUS, RP0
002B   30FF           00072         movlw   0xff
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002C   0087           00073         movwf   TRISC
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
002D   0088           00074         movwf   TRISD
002E   1283           00075         bcf             STATUS, RP0
                      00076 
002F   0808           00077         MOVF    PORTD, W; Read instruction 2 from EEPROM - THIS WILL CHANGE to PORTC
0030   00A1           00078         MOVWF   INS2    ; Store instruction 2
0031   0807           00079         MOVF    PORTC, W; Read instruction 1 from EEPROM
0032   00A0           00080         MOVWF   INS1    ; Store instruction 1
                      00081         
0033   1683           00082         bsf             STATUS, RP0
0034   30FF           00083         movlw   0xff
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0035   0085           00084         movwf   TRISA
0036   3000           00085         movlw   0x00
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0037   0087           00086         movwf   TRISC
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0038   0088           00087         movwf   TRISD
0039   1283           00088         bcf             STATUS, RP0
                      00089         
003A   0820           00090         MOVF    INS1, W;
003B   39F0           00091         ANDLW   0xF0    ; Take first 4 bits of Ins1 = Mode
                      00092         
003C   3A00           00093         XORLW   CASE0   ; If W is Case0, this will make W 0;
003D   1903           00094         BTFSC   STATUS, Z
003E   2???           00095         GOTO    L0
003F   3A10           00096         XORLW   CASE1
0040   1903           00097         BTFSC   STATUS, Z
0041   2???           00098         GOTO    L1
0042   3A30           00099         XORLW   CASE1^CASE2
0043   1903           00100         BTFSC   STATUS, Z
0044   2???           00101         GOTO    L2
0045   3A10           00102         XORLW   CASE2^CASE3
0046   1903           00103         BTFSC   STATUS, Z
0047   2???           00104         GOTO    L3
0048   3A70           00105         XORLW   CASE3^CASE4
0049   1903           00106         BTFSC   STATUS, Z
004A   2???           00107         GOTO    L4
004B   3A10           00108         XORLW   CASE4^CASE5
004C   1903           00109         BTFSC   STATUS, Z
004D   2???           00110         GOTO    L5
004E   3A30           00111         XORLW   CASE5^CASE6
004F   1903           00112         BTFSC   STATUS, Z
0050   2???           00113         GOTO    L6
0051   3A10           00114         XORLW   CASE6^CASE7
0052   1903           00115         BTFSC   STATUS, Z
0053   2???           00116         GOTO    L7
0054   3AF0           00117         XORLW   CASE7^CASE8
0055   1903           00118         BTFSC   STATUS, Z
0056   2???           00119         GOTO    L8
0057   3A10           00120         XORLW   CASE8^CASE9
0058   1903           00121         BTFSC   STATUS, Z
0059   2???           00122         GOTO    L9
005A   3A30           00123         XORLW   CASE9^CASE10
005B   1903           00124         BTFSC   STATUS, Z
005C   2???           00125         GOTO    L10
005D   3A10           00126         XORLW   CASE10^CASE11
005E   1903           00127         BTFSC   STATUS, Z
005F   2???           00128         GOTO    L11
0060   3A70           00129         XORLW   CASE11^CASE12
0061   1903           00130         BTFSC   STATUS, Z
0062   2???           00131         GOTO    L12
                      00132 
0063   0000           00133 L0      nop
0064   2???           00134         GOTO    LSTART
                      00135 
0065                  00136 L1      ; ADD
                      00137                 
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00138         ; Grab B title, send it to SRAM
0065   3005           00139                         MOVLW   0x05    ; Clear ~OE and Set ~WE
0066   0089           00140                         MOVWF   PORTE
                      00141 
0067   0821           00142                         MOVF    INS2, W 
0068   39F0           00143                         ANDLW   0xF0
0069   00A5           00144                         MOVWF   BTITLE          
Message[305]: Using default destination of 1 (file).
006A   0EA5           00145                         SWAPF   BTITLE
006B   0825           00146                         MOVF    BTITLE, W
006C   0087           00147                         MOVWF   PORTC
                      00148         ;Read B bucket from SRAM and store
006D   0805           00149                         MOVF    PORTA, W        
006E   00A4           00150                         MOVWF   BB
Message[305]: Using default destination of 1 (file).
006F   0EA4           00151                         SWAPF   BB
                      00152         ; Grab C title, send it to SRAM
0070   0821           00153                         MOVF    INS2, W
0071   390F           00154                         ANDLW   0x0F
0072   0087           00155                         MOVWF   PORTC
                      00156         ;Read C bucket from SRAM and put in bottom of Port B (to ALU)
0073   0805           00157                         MOVF    PORTA, W        
0074   0086           00158                         MOVWF   PORTB
0075   0824           00159                         MOVF    BB, W
0076   0686           00160                 XORWF   PORTB, F        ; now port B is full with buckets
                      00161 
                      00162         ; Set 3 mode bits on port d and send to ALU
0077   3007           00163                 MOVLW   0x07     
0078   0088           00164                 MOVWF   PORTD
                      00165 
                      00166 
0079   3001           00167                         MOVLW   0x01
007A   0089           00168                         MOVWF   PORTE
                      00169         ; Clear Z and C bits of MyStatus Register               
007B   30FC           00170                 MOVLW   0xFC          
007C   05A3           00171                 ANDWF   MYSTATUS, F
007D   1E85           00172                 BTFSS   PORTA, 5      ; Check Z and C ALU outputs in PortA
007E   1423           00173                 BSF             MYSTATUS, 0
007F   1F05           00174                 BTFSS   PORTA, 6
0080   14A3           00175                 BSF             MYSTATUS, 1     
                      00176 
                      00177         ; Grab A title, send it to SRAM, while Port A is feeding in the result.
0081   0820           00178                         MOVF    INS1, W         
0082   390F           00179                         ANDLW   0x0F
0083   0087           00180                         MOVWF   PORTC
                      00181                         
0084   3000           00182                         MOVLW   0x00
0085   0089           00183                         MOVWF   PORTE
0086   0000           00184                         nop             ; ALU outputs write to SRAM
0087   3007           00185                         MOVLW   0x07 ; Fill Port E with ones (3 bit port)
0088   0089           00186                         MOVWF   PORTE
                      00187 
0089   2???           00188         GOTO    LSTART
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00189         
008A                  00190 L2      ; SUB
008A   3005           00191                         MOVLW   0x05    ; Clear ~OE and Set ~WE - Ready to read in
008B   0089           00192                         MOVWF   PORTE
                      00193 
                      00194         ; Grab B title, send it to SRAM
008C   0821           00195                         MOVF    INS2, W 
008D   39F0           00196                         ANDLW   0xF0
008E   00A5           00197                         MOVWF   BTITLE          
Message[305]: Using default destination of 1 (file).
008F   0EA5           00198                         SWAPF   BTITLE
0090   0825           00199                         MOVF    BTITLE, W
0091   0087           00200                         MOVWF   PORTC
                      00201         ;Read B bucket from SRAM and store
0092   0805           00202                         MOVF    PORTA, W        
0093   00A4           00203                         MOVWF   BB
Message[305]: Using default destination of 1 (file).
0094   0EA4           00204                         SWAPF   BB
                      00205         ; Grab C title, send it to SRAM
0095   0821           00206                         MOVF    INS2, W
0096   390F           00207                         ANDLW   0x0F
0097   0087           00208                         MOVWF   PORTC
                      00209         ;Read C bucket from SRAM and put in bottom of Port B (to ALU)
0098   0805           00210                         MOVF    PORTA, W        
0099   0086           00211                         MOVWF   PORTB
009A   0824           00212                         MOVF    BB, W
009B   0686           00213                 XORWF   PORTB, F        ; now port B is full with buckets
                      00214         
                      00215         ; Set 3 mode bits on port d and send to ALU
009C   3006           00216                 MOVLW   0x06     
009D   0088           00217                 MOVWF   PORTD                           
                      00218         
009E   3001           00219                         MOVLW   0x01
009F   0089           00220                         MOVWF   PORTE
                      00221 
                      00222         ; Clear Z and C bits of MyStatus Register
00A0   30FC           00223                 MOVLW   0xFC          
00A1   05A3           00224                 ANDWF   MYSTATUS, F
00A2   1E85           00225                 BTFSS   PORTA, 5      ; Check Z and C ALU outputs in PortA
00A3   1423           00226                 BSF             MYSTATUS, 0
00A4   1F05           00227                 BTFSS   PORTA, 6
00A5   14A3           00228                 BSF             MYSTATUS, 1
                      00229 
                      00230         ; Grab A title, send it to SRAM, while Port A is feeding in the result.
00A6   0820           00231                         MOVF    INS1, W         
00A7   390F           00232                         ANDLW   0x0F
00A8   0087           00233                         MOVWF   PORTC
                      00234                         
00A9   3000           00235                         MOVLW   0x00
00AA   0089           00236                         MOVWF   PORTE
00AB   0000           00237                         nop             ; ALU outputs write to SRAM
00AC   3007           00238                         MOVLW   0x07 ; Fill Port E with ones (3 bit port)
00AD   0089           00239                         MOVWF   PORTE
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00240 
00AE   2???           00241         GOTO    LSTART
                      00242 
                      00243 
00AF                  00244 L3      ; AND
00AF   3005           00245                         MOVLW   0x05    ; Clear ~OE and Set ~WE - Ready to read in
00B0   0089           00246                         MOVWF   PORTE   
                      00247         ; Grab B title, send it to SRAM
00B1   0821           00248                         MOVF    INS2, W 
00B2   39F0           00249                         ANDLW   0xF0
00B3   00A5           00250                         MOVWF   BTITLE          
Message[305]: Using default destination of 1 (file).
00B4   0EA5           00251                         SWAPF   BTITLE
00B5   0825           00252                         MOVF    BTITLE, W
00B6   0087           00253                         MOVWF   PORTC
                      00254 
                      00255         ;Read B bucket from SRAM and store
00B7   0805           00256                         MOVF    PORTA, W        
00B8   00A4           00257                         MOVWF   BB
Message[305]: Using default destination of 1 (file).
00B9   0EA4           00258                         SWAPF   BB
                      00259         ; Grab C title, send it to SRAM
00BA   0821           00260                         MOVF    INS2, W
00BB   390F           00261                         ANDLW   0x0F
00BC   0087           00262                         MOVWF   PORTC
00BD   1607           00263                         BSF             PORTC, 4
00BE   1287           00264                         BCF             PORTC, 5
                      00265         ;Read C bucket from SRAM and put in bottom of Port B (to ALU)
00BF   0805           00266                         MOVF    PORTA, W        
00C0   0086           00267                         MOVWF   PORTB
00C1   0824           00268                         MOVF    BB, W
00C2   0686           00269                 XORWF   PORTB, F        ; now port B is full with buckets
                      00270                         
                      00271         ; Set 3 mode bits on port d and send to ALU
00C3   3000           00272                 MOVLW   0x00     
00C4   0088           00273                 MOVWF   PORTD
00C5   3001           00274                         MOVLW   0x01
00C6   0089           00275                         MOVWF   PORTE
                      00276         ; Clear Z bits of MyStatus Register
00C7   30FD           00277            MOVLW        0xFD
00C8   05A3           00278            ANDWF        MYSTATUS, F
00C9   1F05           00279            BTFSS        PORTA, 6
00CA   14A3           00280            BSF          MYSTATUS, 1
                      00281         
                      00282         ; Grab A title, send it to SRAM, while Port A is feeding in the result.
00CB   0820           00283                         MOVF    INS1, W         
00CC   390F           00284                         ANDLW   0x0F
00CD   0087           00285                         MOVWF   PORTC
                      00286                         
00CE   3000           00287                         MOVLW   0x00
00CF   0089           00288                         MOVWF   PORTE
00D0   0000           00289                         nop             ; ALU outputs write to SRAM
00D1   3007           00290                         MOVLW   0x07 ; Fill Port E with ones (3 bit port)
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00D2   0089           00291                         MOVWF   PORTE
                      00292 
00D3   2???           00293         GOTO    LSTART
                      00294 
00D4                  00295 L4      ; OR
00D4   3005           00296                         MOVLW   0x05    ; Clear ~OE and Set ~WE - Ready to read in
00D5   0089           00297                         MOVWF   PORTE   
                      00298         ; Grab B title, send it to SRAM
00D6   0821           00299                         MOVF    INS2, W 
00D7   39F0           00300                         ANDLW   0xF0
00D8   00A5           00301                         MOVWF   BTITLE          
Message[305]: Using default destination of 1 (file).
00D9   0EA5           00302                         SWAPF   BTITLE
00DA   0825           00303                         MOVF    BTITLE, W
00DB   0087           00304                         MOVWF   PORTC
                      00305 
                      00306         ;Read B bucket from SRAM and store
00DC   0805           00307                         MOVF    PORTA, W        
00DD   00A4           00308                         MOVWF   BB
Message[305]: Using default destination of 1 (file).
00DE   0EA4           00309                         SWAPF   BB
                      00310         ; Grab C title, send it to SRAM
00DF   0821           00311                         MOVF    INS2, W
00E0   390F           00312                         ANDLW   0x0F
00E1   0087           00313                         MOVWF   PORTC
00E2   1607           00314                         BSF             PORTC, 4
00E3   1287           00315                         BCF             PORTC, 5
                      00316         ;Read C bucket from SRAM and put in bottom of Port B (to ALU)
00E4   0805           00317                         MOVF    PORTA, W        
00E5   0086           00318                         MOVWF   PORTB
00E6   0824           00319                         MOVF    BB, W
00E7   0686           00320                 XORWF   PORTB, F        ; now port B is full with buckets
                      00321                         
                      00322         ; Set 3 mode bits on port d and send to ALU
00E8   3001           00323                 MOVLW   0x01     
00E9   0088           00324                 MOVWF   PORTD
00EA   3001           00325                         MOVLW   0x01
00EB   0089           00326                         MOVWF   PORTE
                      00327         
                      00328 
                      00329         ; Clear Z bit of MyStatus Register
00EC   30FD           00330            MOVLW        0xFD
00ED   05A3           00331            ANDWF        MYSTATUS, F
00EE   1F05           00332            BTFSS        PORTA, 6
00EF   14A3           00333            BSF          MYSTATUS, 1
                      00334         
                      00335         ; Grab A title, send it to SRAM, while Port A is feeding in the result.
00F0   0820           00336                         MOVF    INS1, W         
00F1   390F           00337                         ANDLW   0x0F
00F2   0087           00338                         MOVWF   PORTC
                      00339                         
00F3   3000           00340                         MOVLW   0x00
00F4   0089           00341                         MOVWF   PORTE
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

00F5   0000           00342                         nop             ; ALU outputs write to SRAM
00F6   3007           00343                         MOVLW   0x07 ; Fill Port E with ones (3 bit port)
00F7   0089           00344                         MOVWF   PORTE
                      00345 
00F8   2???           00346         GOTO    LSTART
                      00347 
00F9                  00348 L5      ; XOR
00F9   3005           00349                         MOVLW   0x05    ; Clear ~OE and Set ~WE - Ready to read in
00FA   0089           00350                         MOVWF   PORTE
                      00351 
                      00352         ; Grab B title, send it to SRAM
00FB   0821           00353                         MOVF    INS2, W 
00FC   39F0           00354                         ANDLW   0xF0
00FD   00A5           00355                         MOVWF   BTITLE          
Message[305]: Using default destination of 1 (file).
00FE   0EA5           00356                         SWAPF   BTITLE
00FF   0825           00357                         MOVF    BTITLE, W
0100   0087           00358                         MOVWF   PORTC
                      00359 
                      00360         ;Read B bucket from SRAM and store
0101   0805           00361                         MOVF    PORTA, W        
0102   00A4           00362                         MOVWF   BB
Message[305]: Using default destination of 1 (file).
0103   0EA4           00363                         SWAPF   BB
                      00364         ; Grab C title, send it to SRAM
0104   0821           00365                         MOVF    INS2, W
0105   390F           00366                         ANDLW   0x0F
0106   0087           00367                         MOVWF   PORTC
0107   1607           00368                         BSF             PORTC, 4
0108   1287           00369                         BCF             PORTC, 5
                      00370         ;Read C bucket from SRAM and put in bottom of Port B (to ALU)
0109   0805           00371                         MOVF    PORTA, W        
010A   0086           00372                         MOVWF   PORTB
010B   0824           00373                         MOVF    BB, W
010C   0686           00374                 XORWF   PORTB, F        ; now port B is full with buckets
                      00375                 
                      00376         ; Set 3 mode bits on port d and send to ALU
010D   3002           00377                 MOVLW   0x02     
010E   0088           00378                 MOVWF   PORTD
010F   3001           00379                         MOVLW   0x01
0110   0089           00380                         MOVWF   PORTE
                      00381         ; Clear Z bit of MyStatus Register
0111   30FD           00382            MOVLW        0xFD
0112   05A3           00383            ANDWF        MYSTATUS, F
0113   1F05           00384            BTFSS        PORTA, 6
0114   14A3           00385            BSF          MYSTATUS, 1
                      00386         
                      00387         ; Grab A title, send it to SRAM, while Port A is feeding in the result.
0115   0820           00388                         MOVF    INS1, W         
0116   390F           00389                         ANDLW   0x0F
0117   0087           00390                         MOVWF   PORTC
                      00391                         
0118   3000           00392                         MOVLW   0x00
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0119   0089           00393                         MOVWF   PORTE
011A   0000           00394                         nop             ; ALU outputs write to SRAM
011B   3007           00395                         MOVLW   0x07 ; Fill Port E with ones (3 bit port)
011C   0089           00396                         MOVWF   PORTE
                      00397 
011D   2???           00398         GOTO    LSTART
                      00399 
011E                  00400 L6      ;Shift Case
011E   3005           00401                 MOVLW   0x05    ; Clear ~OE and Set ~WE - Ready to read in
011F   0089           00402                 MOVWF   PORTE
0120   1BA1           00403                 BTFSC   INS2, 7 
0121   2???           00404                 GOTO    L6R             ; Right Shift
                      00405 ; Left Shift    
                      00406         ; Grab "B" title, send it to SRAM
0122   0821           00407                         MOVF    INS2, W
0123   390F           00408                         ANDLW   0x0F
0124   0087           00409                         MOVWF   PORTC
                      00410         ;Read C bucket from SRAM and put in bottom of Port B (to ALU)
0125   0805           00411                         MOVF    PORTA, W        
0126   0086           00412                         MOVWF   PORTB
Message[305]: Using default destination of 1 (file).
0127   0E86           00413                         SWAPF   PORTB   
0128   3003           00414                 MOVLW   0x03
0129   0088           00415                 MOVWF   PORTD
                      00416         
012A   3001           00417                         MOVLW   0x01
012B   0089           00418                         MOVWF   PORTE
                      00419         ; Clear C bit of MyStatus Register
012C   30FE           00420                 MOVLW   0xFE
012D   05A3           00421                 ANDWF   MYSTATUS, F
012E   1E85           00422                 BTFSS   PORTA, 5
012F   1423           00423                 BSF             MYSTATUS, 0
                      00424         
                      00425         ; Grab A title, send it to SRAM, while Port A is feeding in the result.
0130   0820           00426                         MOVF    INS1, W         
0131   390F           00427                         ANDLW   0x0F
0132   0087           00428                         MOVWF   PORTC
                      00429                         
0133   3000           00430                         MOVLW   0x00
0134   0089           00431                         MOVWF   PORTE
0135   0000           00432                         nop             ; ALU outputs write to SRAM
0136   3007           00433                         MOVLW   0x07 ; Fill Port E with ones (3 bit port)
0137   0089           00434                         MOVWF   PORTE
                      00435 
0138   2???           00436         GOTO    LSTART
                      00437 
Warning[207]: Found label after column 1. (L6R)
0139                  00438         L6R
                      00439         ; Grab "B" title, send it to SRAM
0139   0821           00440                         MOVF    INS2, W
013A   390F           00441                         ANDLW   0x0F
013B   0087           00442                         MOVWF   PORTC
                      00443         ;Read "B" bucket from SRAM and put in bottom of Port B (to ALU)
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

013C   0805           00444                         MOVF    PORTA, W        
013D   0086           00445                         MOVWF   PORTB
Message[305]: Using default destination of 1 (file).
013E   0E86           00446                         SWAPF   PORTB   
013F   3004           00447                 MOVLW   0x04
0140   0088           00448                 MOVWF   PORTD
                      00449         
0141   3001           00450                         MOVLW   0x01
0142   0089           00451                         MOVWF   PORTE
                      00452         ; Clear C bit of MyStatus Register
0143   30FE           00453                 MOVLW   0xFE
0144   05A3           00454                 ANDWF   MYSTATUS, F
0145   1E85           00455                 BTFSS   PORTA, 5
0146   1423           00456                 BSF             MYSTATUS, 0
                      00457         
                      00458         ; Grab A title, send it to SRAM, while Port A is feeding in the result.
0147   0820           00459                         MOVF    INS1, W         
0148   390F           00460                         ANDLW   0x0F
0149   0087           00461                         MOVWF   PORTC
                      00462                         
014A   3000           00463                         MOVLW   0x00
014B   0089           00464                         MOVWF   PORTE
014C   0000           00465                         nop             ; ALU outputs write to SRAM
014D   3007           00466                         MOVLW   0x07 ; Fill Port E with ones (3 bit port)
014E   0089           00467                         MOVWF   PORTE
                      00468 
014F   2???           00469         GOTO    LSTART
                      00470 
0150                  00471 L7      ;Not Case
0150   3005           00472                         MOVLW   0x05    ; Clear ~OE and Set ~WE - Ready to read in
0151   0089           00473                         MOVWF   PORTE
                      00474         ; Grab "B" title, send it to SRAM
0152   0821           00475                         MOVF    INS2, W
0153   390F           00476                         ANDLW   0x0F
0154   0087           00477                         MOVWF   PORTC
                      00478         ;Read "B" bucket from SRAM and put in bottom of Port B (to ALU)
0155   0805           00479                         MOVF    PORTA, W        
0156   0086           00480                         MOVWF   PORTB
Message[305]: Using default destination of 1 (file).
0157   0E86           00481                         SWAPF   PORTB   
0158   3005           00482                 MOVLW   0x05
0159   0088           00483                 MOVWF   PORTD
                      00484         
015A   3001           00485                         MOVLW   0x01
015B   0089           00486                         MOVWF   PORTE
                      00487         ; Clear C bit of MyStatus Register
015C   30FD           00488                 MOVLW   0xFD
015D   05A3           00489                 ANDWF   MYSTATUS, F
015E   1F05           00490                 BTFSS   PORTA, 6
015F   14A3           00491                 BSF             MYSTATUS, 1
                      00492         
                      00493         ; Grab A title, send it to SRAM, while Port A is feeding in the result.
0160   0820           00494                         MOVF    INS1, W         
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0161   390F           00495                         ANDLW   0x0F
0162   0087           00496                         MOVWF   PORTC
                      00497                         
0163   3000           00498                         MOVLW   0x00
0164   0089           00499                         MOVWF   PORTE
0165   0000           00500                         nop             ; ALU outputs write to SRAM
0166   3007           00501                         MOVLW   0x07 ; Fill Port E with ones (3 bit port)
0167   0089           00502                         MOVWF   PORTE
                      00503 
0168   2???           00504         GOTO    LSTART
                      00505 
0169                  00506 L8      ;Move Case
0169   1BA1           00507         BTFSC   INS2, 7
016A   2???           00508         GOTO    L8b ; This is move FF
                      00509         
                      00510         ; unset TRISCA 
016B   1683           00511                         bsf     STATUS, RP0     ; Bank 1
016C   3000           00512                         movlw   0x00
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
016D   0085           00513                         movwf   TRISA
016E   1283           00514                         bcf     STATUS, RP0     ; Bank 0
016F   0821           00515                         MOVF INS2, W
0170   390F           00516                         ANDLW   0x0F
0171   0085           00517                         MOVWF   PORTA
                      00518         ; Grab A title, send it to SRAM, while Port A is feeding in the result.
0172   0820           00519                         MOVF    INS1, W         
0173   390F           00520                         ANDLW   0x0F
0174   0087           00521                         MOVWF   PORTC
0175   1207           00522                         BCF             PORTC, 4
0176   1287           00523                         BCF             PORTC, 5
                      00524         
0177   1683           00525                         BSF     STATUS, RP0     ; Bank 1
0178   30FF           00526                         MOVLW   0xFF
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
0179   0085           00527                         MOVWF   TRISA
017A   1283           00528                         BCF             STATUS, RP0     ; Bank 0
                      00529 
017B   2???           00530         GOTO LSTART
                      00531 
017C                  00532 L8b     ;Move Case 1 - MOVE FF
                      00533         ; Finally, we will be writing to SRAM via Port A (I.e. DRIVING PORT A)
                      00534         ; Grab "B" title, send it to SRAM
017C   0821           00535                         MOVF    INS2, W
017D   390F           00536                         ANDLW   0x0F
017E   0087           00537                         MOVWF   PORTC
                      00538         ;Read "B" bucket from SRAM and put in bottom of Port B (to ALU)
017F   0805           00539                         MOVF    PORTA, W        
0180   00A4           00540                         MOVWF   BB
                      00541         
                      00542         ; unset TRISCA 
0181   1683           00543                         bsf     STATUS, RP0     ; Bank 1
0182   3000           00544                         movlw   0x00
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

0183   0085           00545                         movwf   TRISA
0184   1283           00546                         bcf     STATUS, RP0     ; Bank 0
0185   0824           00547                         MOVF    BB, W
0186   0085           00548                         MOVWF   PORTA
                      00549         ; Grab A title, send it to SRAM, while Port A is feeding in the result.
0187   0820           00550                         MOVF    INS1, W         
0188   390F           00551                         ANDLW   0x0F
0189   0087           00552                         MOVWF   PORTC
018A   1207           00553                         BCF             PORTC, 4
018B   1287           00554                         BCF             PORTC, 5
                      00555         
018C   1683           00556                         BSF     STATUS, RP0     ; Bank 1
018D   30FF           00557                         MOVLW   0xFF
Message[302]: Register in operand not in bank 0.  Ensure that bank bits are correct.
018E   0085           00558                         MOVWF   TRISA
018F   1283           00559                         BCF             STATUS, RP0     ; Bank 0
0190   2???           00560         GOTO LSTART
                      00561 
0191                  00562 L9      ;LOD
0191   2???           00563         GOTO LSTART
0192                  00564 L10     ;STO
0192   2???           00565         GOTO LSTART
                      00566 
0193                  00567 L11     ;TSC/TSS
0193   3005           00568         MOVLW   0x05
0194   0089           00569         MOVWF   PORTE
                      00570         
                      00571         ;Find out what bb is
0195   0821           00572         MOVF    INS2, W
0196   3903           00573         ANDLW   0x03
0197   00A4           00574         MOVWF   BB
                      00575 
0198   1BA1           00576         BTFSC   INS2, 7
0199   2???           00577         GOTO    L11S ; This is TSS
                      00578         ; Grab A title, send it to SRAM
019A   0820           00579                         MOVF    INS1, W         
019B   390F           00580                         ANDLW   0x0F
019C   0087           00581                         MOVWF   PORTC
                      00582 
                      00583 
                      00584         ;Read A bucket from SRAM
Warning[202]: Argument out of range.  Least significant bits used.
019D   1E05           00585                         BTFSS   PORTA, BB
019E   2???           00586                         GOTO    LPCINC
019F   2???           00587                         GOTO    LSTART  
                      00588 
01A0                  00589 L11S
                      00590         ; Grab A title, send it to SRAM
01A0   0820           00591                         MOVF    INS1, W         
01A1   390F           00592                         ANDLW   0x0F
01A2   0087           00593                         MOVWF   PORTC
                      00594 
                      00595         ;Read A bucket from SRAM
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

Warning[202]: Argument out of range.  Least significant bits used.
01A3   1A05           00596                         BTFSC   PORTA, BB
01A4   2???           00597                         GOTO    LPCINC
01A5   2???           00598                         GOTO    LSTART
                      00599 
01A6                  00600 LPCINC
01A6   0AA6           00601         INCF    PC2, F
01A7   1903           00602         BTFSC   STATUS, Z;
01A8   0AA7           00603         INCF    PC1, F
01A9   2???           00604         GOTO LSTART
                      00605 
01AA                  00606 L12     ;Jump
01AA   19A0           00607         BTFSC   INS1, 3
01AB   2???           00608         GOTO    L12b ; This is TSS
                      00609         
01AC   0820           00610         MOVF    INS1, W
01AD   3907           00611         ANDLW   0x07
01AE   00A7           00612         MOVWF   PC1
                      00613         
01AF   0821           00614         MOVF    INS2, W
01B0   00A6           00615         MOVWF   PC2
01B1   2???           00616         GOTO    LJMP
                      00617 
01B2                  00618 L12b
                      00619         ; Grab A title, send it to SRAM
01B2   0821           00620         MOVF    INS2, W         
01B3   390F           00621         ANDLW   0x0F
01B4   0087           00622         MOVWF   PORTC
                      00623 
                      00624         ;Read A bucket from SRAM
01B5   0805           00625         MOVF    PORTA, W
01B6   3907           00626         ANDLW   0x07
01B7   00A7           00627         MOVWF   PC1
01B8   0000           00628         nop;
                      00629 
Message[305]: Using default destination of 1 (file).
01B9   0AA1           00630         INCF    INS2
01BA   0821           00631         MOVF    INS2, W         
01BB   390F           00632         ANDLW   0x0F
01BC   0087           00633         MOVWF   PORTC
                      00634 
                      00635         ;Read A bucket from SRAM
01BD   0805           00636         MOVF    PORTA, W
01BE   00A6           00637         MOVWF   PC2     
Message[305]: Using default destination of 1 (file).
01BF   0EA6           00638         SWAPF   PC2
01C0   0000           00639         nop;
                      00640         
Message[305]: Using default destination of 1 (file).
01C1   0AA1           00641         INCF    INS2
01C2   0821           00642         MOVF    INS2, W         
01C3   390F           00643         ANDLW   0x0F
01C4   0087           00644         MOVWF   PORTC
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE

                      00645 
                      00646         ;Read A bucket from SRAM
01C5   0805           00647         MOVF    PORTA, W
01C6   06A6           00648         XORWF   PC2, F
                      00649 
01C7   2???           00650         GOTO LJMP
                      00651         
Warning[205]: Found directive in column 1. (END)
3F72                  00652 END
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE 15


SYMBOL TABLE
  LABEL                             VALUE 

ACKDT                             00000005
ACKEN                             00000004
ACKSTAT                           00000006
ADCON0                            0000001F
ADCON1                            0000009F
ADCS0                             00000006
ADCS1                             00000007
ADCS2                             00000006
ADDEN                             00000003
ADFM                              00000007
ADIE                              00000006
ADIF                              00000006
ADON                              00000000
ADRESH                            0000001E
ADRESL                            0000009E
BB                                00000024
BCLIE                             00000003
BCLIF                             00000003
BF                                00000000
BRGH                              00000002
BTITLE                            00000025
C                                 00000000
C1INV                             00000004
C1OUT                             00000006
C2INV                             00000005
C2OUT                             00000007
CASE0                             00000000
CASE1                             00000010
CASE10                            000000A0
CASE11                            000000B0
CASE12                            000000C0
CASE2                             00000020
CASE3                             00000030
CASE4                             00000040
CASE5                             00000050
CASE6                             00000060
CASE7                             00000070
CASE8                             00000080
CASE9                             00000090
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCP2CON                           0000001D
CCP2IE                            00000000
CCP2IF                            00000000
CCP2M0                            00000000
CCP2M1                            00000001
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE 16


SYMBOL TABLE
  LABEL                             VALUE 

CCP2M2                            00000002
CCP2M3                            00000003
CCP2X                             00000005
CCP2Y                             00000004
CCPR1                             00000015
CCPR1H                            00000016
CCPR1L                            00000015
CCPR2                             0000001B
CCPR2H                            0000001C
CCPR2L                            0000001B
CHS0                              00000003
CHS1                              00000004
CHS2                              00000005
CIS                               00000003
CKE                               00000006
CKP                               00000004
CM0                               00000000
CM1                               00000001
CM2                               00000002
CMCON                             0000009C
CMIE                              00000006
CMIF                              00000006
CREN                              00000004
CSRC                              00000007
CVR0                              00000000
CVR1                              00000001
CVR2                              00000002
CVR3                              00000003
CVRCON                            0000009D
CVREN                             00000007
CVROE                             00000006
CVRR                              00000005
D                                 00000005
DATA_ADDRESS                      00000005
DC                                00000001
D_A                               00000005
D_NOT_A                           00000005
EEADR                             0000010D
EEADRH                            0000010F
EECON1                            0000018C
EECON2                            0000018D
EEDATA                            0000010C
EEDATH                            0000010E
EEIE                              00000004
EEIF                              00000004
EEPGD                             00000007
F                                 00000001
FERR                              00000002
FSR                               00000004
GCEN                              00000007
GIE                               00000007
GO                                00000002
GO_DONE                           00000002
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE 17


SYMBOL TABLE
  LABEL                             VALUE 

GO_NOT_DONE                       00000002
I2C_DATA                          00000005
I2C_READ                          00000002
I2C_START                         00000003
I2C_STOP                          00000004
IBF                               00000007
IBOV                              00000005
INDF                              00000000
INS1                              00000020
INS2                              00000021
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTF                              00000001
IRP                               00000007
L0                                00000063
L1                                00000065
L10                               00000192
L11                               00000193
L11S                              000001A0
L12                               000001AA
L12b                              000001B2
L2                                0000008A
L3                                000000AF
L4                                000000D4
L5                                000000F9
L6                                0000011E
L6R                               00000139
L7                                00000150
L8                                00000169
L8b                               0000017C
L9                                00000191
LJMP                              00000026
LPCINC                            000001A6
LSTART                            0000001F
MYSTATUS                          00000023
NOT_A                             00000005
NOT_ADDRESS                       00000005
NOT_BO                            00000000
NOT_BOR                           00000000
NOT_DONE                          00000002
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_RC8                           00000006
NOT_T1SYNC                        00000002
NOT_TO                            00000004
NOT_TX8                           00000006
NOT_W                             00000002
NOT_WRITE                         00000002
OBF                               00000006
OERR                              00000001
OPTION_REG                        00000081
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE 18


SYMBOL TABLE
  LABEL                             VALUE 

OUTALU                            00000022
P                                 00000004
PC1                               00000027
PC2                               00000026
PCFG0                             00000000
PCFG1                             00000001
PCFG2                             00000002
PCFG3                             00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PEN                               00000002
PIE1                              0000008C
PIE2                              0000008D
PIR1                              0000000C
PIR2                              0000000D
PORTA                             00000005
PORTB                             00000006
PORTC                             00000007
PORTD                             00000008
PORTE                             00000009
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
PSPIE                             00000007
PSPIF                             00000007
PSPMODE                           00000004
R                                 00000002
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RC0                               00000000
RC1                               00000001
RC2                               00000002
RC3                               00000003
RC4                               00000004
RC5                               00000005
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE 19


SYMBOL TABLE
  LABEL                             VALUE 

RC6                               00000006
RC7                               00000007
RC8_9                             00000006
RC9                               00000006
RCD8                              00000000
RCEN                              00000003
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
RD0                               00000000
RD1                               00000001
RD2                               00000002
RD3                               00000003
RD4                               00000004
RD5                               00000005
RD6                               00000006
RD7                               00000007
RE0                               00000000
RE1                               00000001
RE2                               00000002
READ_WRITE                        00000002
RP0                               00000005
RP1                               00000006
RSEN                              00000001
RX9                               00000006
RX9D                              00000000
R_NOT_W                           00000002
R_W                               00000002
S                                 00000003
SEN                               00000000
SMP                               00000007
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
SSPADD                            00000093
SSPBUF                            00000013
SSPCON                            00000014
SSPCON2                           00000091
SSPEN                             00000005
SSPIE                             00000003
SSPIF                             00000003
SSPM0                             00000000
SSPM1                             00000001
SSPM2                             00000002
SSPM3                             00000003
SSPOV                             00000006
SSPSTAT                           00000094
STATUS                            00000003
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE 20


SYMBOL TABLE
  LABEL                             VALUE 

T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1INSYNC                          00000002
T1OSCEN                           00000003
T1SYNC                            00000002
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR0IE                            00000005
TMR0IF                            00000002
TMR1                              0000000E
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISA0                            00000000
TRISA1                            00000001
TRISA2                            00000002
TRISA3                            00000003
TRISA4                            00000004
TRISA5                            00000005
TRISB                             00000086
TRISB0                            00000000
TRISB1                            00000001
TRISB2                            00000002
TRISB3                            00000003
TRISB4                            00000004
TRISB5                            00000005
TRISB6                            00000006
TRISB7                            00000007
TRISC                             00000087
TRISC0                            00000000
TRISC1                            00000001
TRISC2                            00000002
TRISC3                            00000003
TRISC4                            00000004
TRISC5                            00000005
TRISC6                            00000006
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE 21


SYMBOL TABLE
  LABEL                             VALUE 

TRISC7                            00000007
TRISD                             00000088
TRISD0                            00000000
TRISD1                            00000001
TRISD2                            00000002
TRISD3                            00000003
TRISD4                            00000004
TRISD5                            00000005
TRISD6                            00000006
TRISD7                            00000007
TRISE                             00000089
TRISE0                            00000000
TRISE1                            00000001
TRISE2                            00000002
TRMT                              00000001
TX8_9                             00000006
TX9                               00000006
TX9D                              00000000
TXD8                              00000000
TXEN                              00000005
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
UA                                00000001
W                                 00000000
WCOL                              00000007
WR                                00000001
WREN                              00000002
WRERR                             00000003
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_BOREN_OFF                        00003FBF
_BOREN_ON                         00003FFF
_CONFIG                           00002007
_CPD_OFF                          00003FFF
_CPD_ON                           00003EFF
_CP_ALL                           00001FFF
_CP_OFF                           00003FFF
_CP_ON                            00001FFF
_DEBUG_OFF                        00003FFF
_DEBUG_ON                         000037FF
_DEVID1                           00002006
_FOSC_EXTRC                       00003FFF
_FOSC_HS                          00003FFE
_FOSC_LP                          00003FFC
_FOSC_XT                          00003FFD
_HS_OSC                           00003FFE
_IDLOC0                           00002000
_IDLOC1                           00002001
_IDLOC2                           00002002
_IDLOC3                           00002003
MPASM  5.49                         FINAL.ASM   5-8-2013  14:26:39         PAGE 22


SYMBOL TABLE
  LABEL                             VALUE 

_LP_OSC                           00003FFC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_RC_OSC                           00003FFF
_WDTE_OFF                         00003FFB
_WDTE_ON                          00003FFF
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_WRT_1FOURTH                      00003BFF
_WRT_256                          00003DFF
_WRT_HALF                         000039FF
_WRT_OFF                          00003FFF
_XT_OSC                           00003FFD
__16F877A                         00000001
__DEBUG                           1
start                             00000010

Errors   :     0
Warnings :     4 reported,     0 suppressed
Messages :    32 reported,     0 suppressed

